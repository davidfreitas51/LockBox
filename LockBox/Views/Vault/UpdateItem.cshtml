@model RegisteredAccount
@{
    Layout = "_LayoutVault";
}

<body>
    <div class="form-container">
        <form asp-controller="Vault" asp-action="UpdateItem" method="post">
            <div class="form-group">
                <h2>Update item</h2>
                <label for="exampleInputTitle">Title</label>
                <input asp-for="Id" style="visibility: hidden"/>
                <input asp-for="Title" type="text" class="form-control" id="exampleInputTitle" placeholder="Enter title">
                <small id="titleHelp" class="form-text text-muted">That's what will appear on your vault</small>
            </div>
            <div class="form-group">
                <label for="exampleInputEmail1">Username/E-mail</label>
                <input asp-for="Username" type="text" class="form-control" id="exampleInputEmail1" placeholder="Enter username">
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <div class="input-group">
                    <input asp-for="Password" type="text" class="form-control" id="exampleInputPassword1" placeholder="Password">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" id="generatePasswordBtn" type="button">Generate</button>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Update</button>
        </form>
    </div>
</body>

<script>
    document.getElementById('generatePasswordBtn').addEventListener('click', function () {
        var passwordField = document.getElementById('exampleInputPassword1');
        var randomPassword = generateRandomPassword(15); // Change 15 to desired length
        passwordField.value = randomPassword;
    });

    function generateRandomPassword(length) {
        var charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
        var password = "";
        for (var i = 0; i < length; i++) {
            var randomIndex = Math.floor(Math.random() * charset.length);
            password += charset[randomIndex];
        }
        return password;
    }
</script>